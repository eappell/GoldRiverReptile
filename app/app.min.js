var myapp=angular.module('grr',['ui.router','ui.bootstrap']);myapp.terms='';myapp.links=[{title:'House of the Serpent (Tad Duane)',url:'http://www.houseoftheserpent.com'},{title:'Morelia viridis Forums (MVF)',url:'http://moreliaviridis.yuku.com/'},{title:'MVF Husbandry Guide',url:'http://moreliaviridis.yuku.com/forums/93/Green-Tree-Python-Husbandry-The-Basics'},{title:'Colorado Chondros (Jason Stevens)',url:'http://www.coloradochondros.com/'},{title:'GTPKeeper (Buddy Buscemi',url:'http://gtpkeeper.com/'},{title:'Rico Walder & Trooper Walsh Article',url:'http://www.reptilechannel.com/care-sheets/green-tree-python.aspx'},{title:'Greg Maxwell Article',url:'http://www.reptilechannel.com/snakes/snake-care/green-tree-python-husbandry.aspx'},{title:'Morelia Python Radio',url:'https://sites.google.com/site/moreliapythonradio/'},{title:'Reptiles Magazine Care Sheet',url:'http://www.reptilesmagazine.com/Care-Sheets/Snakes/Green-Tree-Python/'}];myapp.tips=['Currently there is only recessive morph among green tree pythons, which is the albino gene.','Adult green tree pythons can reach between 4 and 6 feet in length, with females being generally larger.','A few green tree pythons have made it into their mid-20s, but most can be expected to live into their mid-teens with good care.','Hatchling green tree pythons usually measure between 8 and 10 inches long.','The green tree python\'s scientific name changed in 1994 from Chondropython viridis to Morelia viridis reflecting its close relationship with carpet pythons.','Green tree pythons can live from sea level to 1,800 meters elevation.'];myapp.controller('Home',['$scope',function($scope){var factIndex=Math.round(Math.random()*(myapp.tips.length-1));$scope.fact=myapp.tips[factIndex];$scope.gotoAvailable=function(){window.location='#/Available';};var available=$.grep(collection,function(animal,index){if(animal.status=='available')return animal;});var slides=$scope.slides=[];if(available.length>0){$scope.myInterval=5000;$scope.addSlide=function(animal){slides.push({image:'/images/bodypics/'+animal.photos[0].filename+'.jpg',title:animal.id,price:animal.price,shipped:animal.includeShipping,text:animal.description});};for(var i=0;i<available.length;i++){$scope.addSlide(available[i]);}}else{slides.push({image:'/images/SoldOut.png'});}}]);myapp.GetAnimalById=function(collection,id){var animals=$.grep(collection,function(animal,index){if(animal.id==id)return animal;});if(animals.length>0)
return animals[0];return null;};myapp.config(function($stateProvider){$stateProvider.state('index',{url:"",views:{"title":{template:"",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/home.html"},"content":{templateUrl:"/views/content/home.html"},"slider":{templateUrl:"/views/slider/home.html"},"footer":{templateUrl:"/views/footer.html"}},controller:function($scope){window.bannerHeight=450;window.scroll(0,0);window.scrollTop();}}).state('home',{url:"/Home",views:{"title":{template:"",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/home.html"},"content":{templateUrl:"/views/content/home.html"},"slider":{templateUrl:"/views/slider/home.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Collection',{url:"/Collection",views:{"title":{template:"<h3 class='title' ui-view='title'>Our Collection of Animals</h3>",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/collection.html"},"content":{templateUrl:"/views/content/Collection.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Projects',{url:"/Projects",views:{"title":{template:"<h3 class='title' ui-view='title'>2014/2015 Projects</h3>",controller:function(){vm=this;for(var i=0;i<projects.length;i++){projects[i].sire=GetAnimalById(collection,projects[i].sireId);projects[i].dam=GetAnimalById(collection,projects[i].damId);}
vm.projects=projects;window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/projects.html"},"content":{templateUrl:"/views/content/Projects.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Project',{url:"/Project/:projectId",views:{"title":{template:"<h3 class='title' ui-view='title'>{{project.damId}} x {{project.sireId}}</h3>",controller:function($stateParams,$scope){vm=this;vm.project=GetProjectById(projects,$stateParams.projectId);vm.project.sire=GetAnimalById(collection,vm.project.sireId);vm.project.dam=GetAnimalById(collection,vm.project.damId);$scope.project=vm.project;window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/projects.html"},"content":{templateUrl:"/views/content/Project.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Available',{url:"/Available",views:{"title":{template:"<h3 class='title' ui-view='title'>Available Animals</h3>",controller:function(){window.scrollTo(0,0);$(document).ready(function(){if($('ddlStatus'))
$('ddlStatus').selectedIndex=1;});}},"nav":{templateUrl:"/views/nav/available.html"},"content":{templateUrl:"/views/content/Available.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Detail',{url:"/Detail/:animalId",views:{"title":{template:"<h3 class='title' ui-view='title'>{{animal.name ? animal.name : animal.id}}</h3>",controller:function($stateParams,$scope){vm=this;vm.animal=GetAnimalById(collection,$stateParams.animalId);$scope.animal=vm.animal;window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/collection.html"},"content":{templateUrl:"/views/content/Detail.html",controller:function(){$(document).ready(function(){$('.imgThumb').on('click',function(e){var src=$(this).attr('src');var alt=$(this).attr('alt');$('#imgMain').prop('src',src);$('#imgMain').siblings('.caption').text(alt);});$('.imgThumb').tooltip({title:'Click to view larger',container:'body',placement:'top'});});}},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('BuyNow',{url:"/Available/:animalId",views:{"title":{template:"<h3 class='title' ui-view='title'>Buy Now</h3>",controller:function($stateParams,$scope,$http){vm=this;vm.animal=GetAnimalById(collection,$stateParams.animalId);$scope.animal=vm.animal;window.scrollTo(0,0);vm.contact={};vm.test=function(){alert('test passed');};vm.sendForm=function(){alert('sending: '+vm.animal.id+', $'+vm.animal.price+','+vm.contact.name+','+vm.contact.email+','+vm.contact.comments);};}},"nav":{templateUrl:"/views/nav/collection.html"},"content":{templateUrl:"/views/content/BuyNow.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('Terms',{url:"/Terms",views:{"title":{template:"<h3 class='title' ui-view='title'>Terms & Conditions</h3>",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/home.html"},"content":{templateUrl:"/views/content/Terms.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('FAQs',{url:"/FAQs",views:{"title":{template:"<h3 class='title' ui-view='title'>Frequently Asked Questions</h3>",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/home.html"},"content":{templateUrl:"/views/content/FAQs.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}}).state('About',{url:"/About",views:{"title":{template:"<h3 class='title' ui-view='title'>About Gold River Reptile</h3>",controller:function(){window.scrollTo(0,0);}},"nav":{templateUrl:"/views/nav/about.html"},"content":{templateUrl:"/views/content/About.html"},"slider":{templateUrl:"/views/slider/other.html"},"footer":{templateUrl:"/views/footer.html"}}});});myapp.directive('tooltip',function(){return{restrict:'A',link:function(scope,element,attrs){$(element).hover(function(){$(element).tooltip('show');},function(){$(element).tooltip('hide');});}};});myapp.directive('thumbnail',function(){return{restrict:'A',link:function(scope,element,attrs){$(element).hover(function(){$(this).find('.thumbhover').slideToggle(250);$(this).find('.price').slideToggle(250);});}};});myapp.directive('didYouKnow',function(){return{restrict:'A',link:function(scope,element,attrs){var factIndex=Math.round(Match.random()*(myapp.tips.length-1));$(element).text(myapp.tips[factIndex]);}};});myapp.filter('partition',['pmkr.filterStabilize',function(stabilize){function partition(arr,size){var newArr=[];for(var i=0;i<arr.length;i+=size){newArr.push(arr.slice(i,i+size));}
return newArr;}
return stabilize(partition);}]);myapp.factory('filterStabilize',['pmkr.memoize',function(memoize){function service(fn){function filter(){var args=[].slice.call(arguments);args=angular.copy(args);var filtered=fn.apply(this,args)||args[0];return filtered;}
var memoized=memoize(filter);return memoized;}
return service;}]);myapp.factory('memoize',[function(){function service(){return memoizeFactory.apply(this,arguments);}
function memoizeFactory(fn){var cache={};function memoized(){var args=[].slice.call(arguments);var key=JSON.stringify(args);if(cache.hasOwnProperty(key)){return cache[key];}
cache[key]=fn.apply(this,arguments);return cache[key];}
return memoized;}
return service;}]);